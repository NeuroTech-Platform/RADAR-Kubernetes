environments:
  default:
    values:
      - ../base.yaml
      - ../production.yaml

helmDefaults:
  atomic: true
  timeout: 600
  kubeContext: {{ .Values.kubeContext }}
  
releases:
  - name: cc-schema-registry-proxy
    chart: ../charts/cc-schema-registry-proxy
    installed: {{ .Values.ccSchemaRegistryProxy._install }}
    values:
      - {{ .Values.ccSchemaRegistryProxy | toYaml | indent 8 | trim }}
    set:
      - name: kafka_num_brokers
        value: {{ .Values.kafka_num_brokers }}
      - name: s3Endpoint
        value: {{ .Values.minio.s3Endpoint }}
      - name: bucketAccessKey
        value: {{ .Values.minio.accessKey }}
      - name: bucketSecretKey
        value: {{ .Values.minio.secretKey }}
